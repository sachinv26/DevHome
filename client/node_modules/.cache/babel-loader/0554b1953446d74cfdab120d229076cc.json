{"ast":null,"code":"import _classCallCheck from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{BrowserRouter as Router,Route,Switch}from'react-router-dom';import{Provider}from'react-redux';import store from'./store';import jwt_decode from'jwt-decode';import setAuthToken from'./utils/setAuthToken';import{logoutUser,setCurrentUser}from'./actions/authActions';import{clearCurrentProfile}from'./actions/profileActions';import PrivateRoute from'./components/common/PrivateRoute';import Navbar from'./components/layout/Navbar';import Footer from'./components/layout/Footer';import Landing from'./components/layout/Landing';import Register from'./components/auth/Register';import Login from'./components/auth/Login';import Dashboard from'./components/dashboard/Dashboard';import CreateProfile from'./components/create-profile/CreateProfile';import EditProfile from'./components/edit-profile/EditProfile';import AddExperience from'./components/addCredentials/AddExperience';import AddEducation from'./components/addCredentials/AddEducation';import Profiles from'./components/profiles/Profiles';import Profile from'./components/profile/Profile';import NotFound from'./components/not-found/NotFound';import Posts from'./components/posts/Posts';import Post from'./components/post/Post';import'./App.css';// Check for token\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var token=localStorage.jwtToken;if(token){// Set auth token header auth\nsetAuthToken(token);// Decode token and get user info and expir\nvar decoded=jwt_decode(token);// Set user and isAuthenticated\nstore.dispatch(setCurrentUser(decoded));// Check for expired token\nvar currentTime=Date.now()/1000;if(decoded.exp<currentTime){// Logout the user\nstore.dispatch(logoutUser());// Clear current profile\nstore.dispatch(clearCurrentProfile());// // Redirect to login\n// window.location.href = '/login';\n}}var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){_classCallCheck(this,App);return _super.apply(this,arguments);}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:Landing}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/register\",component:Register}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",component:Login}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/profiles\",component:Profiles}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/profile/:handle\",component:Profile}),/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/dashboard\",component:Dashboard})}),/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/create-profile\",component:CreateProfile})}),/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/edit-profile\",component:EditProfile})}),/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/add-experience\",component:AddExperience})}),/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/add-education\",component:AddEducation})}),/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/feed\",component:Posts})}),/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/post/:id\",component:Post})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/not-found\",component:NotFound})]}),/*#__PURE__*/_jsx(Footer,{})]})})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["Z:/DevArena/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","Provider","store","jwt_decode","setAuthToken","logoutUser","setCurrentUser","clearCurrentProfile","PrivateRoute","Navbar","Footer","Landing","Register","Login","Dashboard","CreateProfile","EditProfile","AddExperience","AddEducation","Profiles","Profile","NotFound","Posts","Post","token","localStorage","jwtToken","decoded","dispatch","currentTime","Date","now","exp","App"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\nimport jwt_decode from 'jwt-decode';\r\nimport setAuthToken from './utils/setAuthToken';\r\nimport { logoutUser, setCurrentUser } from './actions/authActions';\r\nimport { clearCurrentProfile } from './actions/profileActions';\r\nimport PrivateRoute from './components/common/PrivateRoute';\r\n\r\nimport Navbar from './components/layout/Navbar';\r\nimport Footer from './components/layout/Footer';\r\nimport Landing from './components/layout/Landing';\r\nimport Register from './components/auth/Register';\r\nimport Login from './components/auth/Login';\r\nimport Dashboard from './components/dashboard/Dashboard';\r\nimport CreateProfile from './components/create-profile/CreateProfile';\r\nimport EditProfile from './components/edit-profile/EditProfile';\r\nimport AddExperience from './components/addCredentials/AddExperience';\r\nimport AddEducation from './components/addCredentials/AddEducation';\r\nimport Profiles from './components/profiles/Profiles';\r\nimport Profile from './components/profile/Profile';\r\nimport NotFound from './components/not-found/NotFound';\r\nimport Posts from './components/posts/Posts';\r\nimport Post from './components/post/Post';\r\n\r\nimport './App.css';\r\n\r\n// Check for token\r\nvar token = localStorage.jwtToken;\r\nif (token) {\r\n    // Set auth token header auth\r\n    setAuthToken(token);\r\n    // Decode token and get user info and expir\r\n    const decoded = jwt_decode(token);\r\n    // Set user and isAuthenticated\r\n    store.dispatch(setCurrentUser(decoded));\r\n\r\n    // Check for expired token\r\n    const currentTime = Date.now() / 1000;\r\n    if (decoded.exp < currentTime) {\r\n        // Logout the user\r\n        store.dispatch(logoutUser());\r\n        // Clear current profile\r\n        store.dispatch(clearCurrentProfile());\r\n        // // Redirect to login\r\n        // window.location.href = '/login';\r\n    }\r\n}\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <Provider store={store}>\r\n                <Router>\r\n                    <div className=\"App\">\r\n                        <Navbar />\r\n                        <Route exact path=\"/\" component={Landing} />\r\n                        <div className=\"container\">\r\n                            <Route exact path=\"/register\" component={Register} />\r\n                            <Route exact path=\"/login\" component={Login} />\r\n                            <Route exact path=\"/profiles\" component={Profiles} />\r\n                            <Route exact path=\"/profile/:handle\" component={Profile} />\r\n                            <Switch>\r\n                                <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\r\n                            </Switch>\r\n                            <Switch>\r\n                                <PrivateRoute\r\n                                    exact\r\n                                    path=\"/create-profile\"\r\n                                    component={CreateProfile}\r\n                                />\r\n                            </Switch>\r\n                            <Switch>\r\n                                <PrivateRoute\r\n                                    exact\r\n                                    path=\"/edit-profile\"\r\n                                    component={EditProfile}\r\n                                />\r\n                            </Switch>\r\n                            <Switch>\r\n                                <PrivateRoute\r\n                                    exact\r\n                                    path=\"/add-experience\"\r\n                                    component={AddExperience}\r\n                                />\r\n                            </Switch>\r\n                            <Switch>\r\n                                <PrivateRoute\r\n                                    exact\r\n                                    path=\"/add-education\"\r\n                                    component={AddEducation}\r\n                                />\r\n                            </Switch>\r\n                            <Switch>\r\n                                <PrivateRoute exact path=\"/feed\" component={Posts} />\r\n                            </Switch>\r\n                            <Switch>\r\n                                <PrivateRoute exact path=\"/post/:id\" component={Post} />\r\n                            </Switch>\r\n                            <Route exact path=\"/not-found\" component={NotFound} />\r\n                        </div>\r\n                        <Footer />\r\n                    </div>\r\n                </Router>\r\n            </Provider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}