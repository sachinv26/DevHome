{"ast":null,"code":"import _classCallCheck from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import{deleteAccount,getCurrentProfile}from'../../actions/profileActions';import Spinner from'../common/Spinner';import ProfileActions from'./ProfileActions';import Experience from'./Experience';import Education from'./Education';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=/*#__PURE__*/function(_Component){_inherits(Dashboard,_Component);var _super=_createSuper(Dashboard);function Dashboard(){var _this;_classCallCheck(this,Dashboard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onDeleteClick=function(){_this.props.deleteAccount();};return _this;}_createClass(Dashboard,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.getCurrentProfile();}},{key:\"render\",value:function render(){var user=this.props.auth.user;var _this$props$profile=this.props.profile,profile=_this$props$profile.profile,loading=_this$props$profile.loading;var dashboardContent;if(profile===null||loading){dashboardContent=/*#__PURE__*/_jsx(Spinner,{});}else{// Check if logged in user has profile data\nif(Object.keys(profile).length>0){dashboardContent=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"lead text-muted\",children:[\"Welcome \",/*#__PURE__*/_jsx(Link,{to:\"/profile/\".concat(profile.handle),children:user.name})]}),/*#__PURE__*/_jsx(ProfileActions,{}),/*#__PURE__*/_jsx(Experience,{experience:profile.experience}),/*#__PURE__*/_jsx(Education,{education:profile.education}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'60px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:this.onDeleteClick,className:\"btn btn-outline-danger\",children:\"Delete My Account\"})})]});}else{// User is logged in but has no profile\ndashboardContent=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"lead text-muted\",children:[\"Welcome \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[' ',\"You have not created a profile yet, please add some info about you\"]}),/*#__PURE__*/_jsx(Link,{to:\"/create-profile\",className:\"btn btn-lg btn-info\",children:\"Create Profile\"})]});}}return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5\",children:\"Dashboard\"}),dashboardContent]})})})});}}]);return Dashboard;}(Component);var mapStateToProps=function mapStateToProps(state){return{profile:state.profile,auth:state.auth};};export default connect(mapStateToProps,{getCurrentProfile:getCurrentProfile,deleteAccount:deleteAccount})(Dashboard);","map":{"version":3,"sources":["Z:/DevArena/client/src/components/dashboard/Dashboard.js"],"names":["React","Component","Link","connect","deleteAccount","getCurrentProfile","Spinner","ProfileActions","Experience","Education","Dashboard","onDeleteClick","props","user","auth","profile","loading","dashboardContent","Object","keys","length","handle","name","experience","education","marginBottom","mapStateToProps","state"],"mappings":"ohBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,aAAT,CAAwBC,iBAAxB,KAAiD,8BAAjD,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,C,2FAEMC,CAAAA,S,uUAKFC,a,CAAgB,UAAM,CAClB,MAAKC,KAAL,CAAWR,aAAX,GACH,C,sEAND,4BAAoB,CAChB,KAAKQ,KAAL,CAAWP,iBAAX,GACH,C,sBAMD,iBAAS,IACGQ,CAAAA,IADH,CACY,KAAKD,KAAL,CAAWE,IADvB,CACGD,IADH,yBAEwB,KAAKD,KAAL,CAAWG,OAFnC,CAEGA,OAFH,qBAEGA,OAFH,CAEYC,OAFZ,qBAEYA,OAFZ,CAIL,GAAIC,CAAAA,gBAAJ,CAEA,GAAIF,OAAO,GAAK,IAAZ,EAAoBC,OAAxB,CAAiC,CAC7BC,gBAAgB,cAAG,KAAC,OAAD,IAAnB,CACH,CAFD,IAEO,CACH;AACA,GAAIC,MAAM,CAACC,IAAP,CAAYJ,OAAZ,EAAqBK,MAArB,CAA8B,CAAlC,CAAqC,CACjCH,gBAAgB,cACZ,oCACI,WAAG,SAAS,CAAC,iBAAb,mCACY,KAAC,IAAD,EAAM,EAAE,oBAAcF,OAAO,CAACM,MAAtB,CAAR,UAAyCR,IAAI,CAACS,IAA9C,EADZ,GADJ,cAII,KAAC,cAAD,IAJJ,cAKI,KAAC,UAAD,EAAY,UAAU,CAAEP,OAAO,CAACQ,UAAhC,EALJ,cAMI,KAAC,SAAD,EAAW,SAAS,CAAER,OAAO,CAACS,SAA9B,EANJ,cAOI,YAAK,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAhB,CAAZ,uBACI,eAAQ,OAAO,CAAE,KAAKd,aAAtB,CAAqC,SAAS,CAAC,wBAA/C,+BADJ,EAPJ,GADJ,CAeH,CAhBD,IAgBO,CACH;AACAM,gBAAgB,cACZ,oCACI,WAAG,SAAS,CAAC,iBAAb,sBAAwCJ,IAAI,CAACS,IAA7C,GADJ,cAEI,qBACK,GADL,wEAFJ,cAMI,KAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,CAA2B,SAAS,CAAC,qBAArC,4BANJ,GADJ,CAYH,CACJ,CAED,mBACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,WAAI,SAAS,CAAC,WAAd,uBADJ,CAEKL,gBAFL,GADJ,EADJ,EADJ,EADJ,CAYH,C,uBAhEmBhB,S,EA0ExB,GAAMyB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAC9BZ,OAAO,CAAEY,KAAK,CAACZ,OADe,CAE9BD,IAAI,CAAEa,KAAK,CAACb,IAFkB,CAAL,EAA7B,CAKA,cAAeX,CAAAA,OAAO,CAClBuB,eADkB,CAElB,CAAErB,iBAAiB,CAAjBA,iBAAF,CAAqBD,aAAa,CAAbA,aAArB,CAFkB,CAAP,CAGbM,SAHa,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { deleteAccount, getCurrentProfile } from '../../actions/profileActions';\r\nimport Spinner from '../common/Spinner';\r\nimport ProfileActions from './ProfileActions';\r\nimport Experience from './Experience';\r\nimport Education from './Education';\r\n\r\nclass Dashboard extends Component {\r\n    componentDidMount() {\r\n        this.props.getCurrentProfile();\r\n    }\r\n\r\n    onDeleteClick = () => {\r\n        this.props.deleteAccount();\r\n    };\r\n\r\n    render() {\r\n        const { user } = this.props.auth;\r\n        const { profile, loading } = this.props.profile;\r\n\r\n        let dashboardContent;\r\n\r\n        if (profile === null || loading) {\r\n            dashboardContent = <Spinner />;\r\n        } else {\r\n            // Check if logged in user has profile data\r\n            if (Object.keys(profile).length > 0) {\r\n                dashboardContent = (\r\n                    <div>\r\n                        <p className=\"lead text-muted\">\r\n                            Welcome <Link to={`/profile/${profile.handle}`}>{user.name}</Link>\r\n                        </p>\r\n                        <ProfileActions />\r\n                        <Experience experience={profile.experience} />\r\n                        <Education education={profile.education} />\r\n                        <div style={{ marginBottom: '60px' }}>\r\n                            <button onClick={this.onDeleteClick} className=\"btn btn-outline-danger\">\r\n                                Delete My Account\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else {\r\n                // User is logged in but has no profile\r\n                dashboardContent = (\r\n                    <div>\r\n                        <p className=\"lead text-muted\">Welcome {user.name}</p>\r\n                        <p>\r\n                            {' '}\r\n                            You have not created a profile yet, please add some info about you\r\n                        </p>\r\n                        <Link to=\"/create-profile\" className=\"btn btn-lg btn-info\">\r\n                            Create Profile\r\n                        </Link>\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className=\"dashboard\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12\">\r\n                            <h1 className=\"display-5\">Dashboard</h1>\r\n                            {dashboardContent}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDashboard.propTypes = {\r\n    getCurrentProfile: PropTypes.func.isRequired,\r\n    deleteAccount: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    profile: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    profile: state.profile,\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { getCurrentProfile, deleteAccount }\r\n)(Dashboard);\r\n"]},"metadata":{},"sourceType":"module"}