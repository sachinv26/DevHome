{"ast":null,"code":"import _classCallCheck from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{Link,withRouter}from'react-router-dom';import{createProfile,getCurrentProfile}from'../../actions/profileActions';import TextFieldGroup from'../common/TextFieldGroup';import TextAreaFieldGroup from'../common/TextAreaFieldGroup';import InputGroup from'../common/InputGroup';import SelectListGroup from'../common/SelectListGroup';import isEmpty from'../../validation/is-empty';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateProfile=/*#__PURE__*/function(_Component){_inherits(CreateProfile,_Component);var _super=_createSuper(CreateProfile);function CreateProfile(props){var _this;_classCallCheck(this,CreateProfile);_this=_super.call(this,props);_this.onSubmit=function(e){e.preventDefault();var profileData={handle:_this.state.handle,company:_this.state.company,website:_this.state.website,location:_this.state.location,status:_this.state.status,skills:_this.state.skills,githubusername:_this.state.githubusername,bio:_this.state.bio,twitter:_this.state.twitter,facebook:_this.state.facebook,linkedin:_this.state.linkedin,instagram:_this.state.instagram,youtube:_this.state.youtube};_this.props.createProfile(profileData,_this.props.history);};_this.onChange=function(e){_this.setState({[e.target.name]:e.target.value});};_this.state={displaySocialInputs:false,handle:'',company:'',website:'',location:'',status:'',skills:'',githubusername:'',bio:'',twitter:'',facebook:'',linkedin:'',instagram:'',youtube:'',errors:{}};return _this;}_createClass(CreateProfile,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.getCurrentProfile();}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.errors){this.setState({errors:nextProps.errors});}if(nextProps.profile.profile){var profile=nextProps.profile.profile;// Bring skills array back to csv\nvar skillsCSV=profile.skills.join(',');// If profile field doesn't exist, make empty string\nprofile.company=!isEmpty(profile.company)?profile.company:'';profile.website=!isEmpty(profile.website)?profile.website:'';profile.location=!isEmpty(profile.location)?profile.location:'';profile.githubusername=!isEmpty(profile.githubusername)?profile.githubusername:'';profile.bio=!isEmpty(profile.bio)?profile.bio:'';profile.social=!isEmpty(profile.social)?profile.social:{};profile.twitter=!isEmpty(profile.social.twitter)?profile.social.twitter:'';profile.facebook=!isEmpty(profile.social.facebook)?profile.social.facebook:'';profile.linkedin=!isEmpty(profile.social.linkedin)?profile.social.linkedin:'';profile.youtube=!isEmpty(profile.social.youtube)?profile.social.youtube:'';profile.instagram=!isEmpty(profile.social.instagram)?profile.social.instagram:'';// Set component fields state\nthis.setState({handle:profile.handle,company:profile.company,website:profile.website,location:profile.location,status:profile.status,skills:skillsCSV,githubusername:profile.githubusername,bio:profile.bio,twitter:profile.twitter,facebook:profile.facebook,linkedin:profile.linkedin,instagram:profile.instagram,youtube:profile.youtube});}}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,errors=_this$state.errors,displaySocialInputs=_this$state.displaySocialInputs;var socialInputs;if(displaySocialInputs){socialInputs=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(InputGroup,{placeholder:\"Facebook Profile URL\",name:\"facebook\",icon:\"fab fa-facebook\",value:this.state.facebook,onChange:this.onChange,error:errors.facebook}),/*#__PURE__*/_jsx(InputGroup,{placeholder:\"Twitter Profile URL\",name:\"twitter\",icon:\"fab fa-twitter\",value:this.state.twitter,onChange:this.onChange,error:errors.twitter}),/*#__PURE__*/_jsx(InputGroup,{placeholder:\"LinkedIn Profile URL\",name:\"linkedin\",icon:\"fab fa-linkedin\",value:this.state.linkedin,onChange:this.onChange,error:errors.linkedin}),/*#__PURE__*/_jsx(InputGroup,{placeholder:\"Instagram Profile URL\",name:\"instagram\",icon:\"fab fa-instagram\",value:this.state.instagram,onChange:this.onChange,error:errors.instagram}),/*#__PURE__*/_jsx(InputGroup,{placeholder:\"Youtube Profile URL\",name:\"youtube\",icon:\"fab fa-youtube\",value:this.state.youtube,onChange:this.onChange,error:errors.youtube})]});}// Select options for status\nvar options=[{label:'Select Professional Status *',value:0},{label:'Developer',value:'Developer'},{label:'Junior Developer',value:'Junior Developer'},{label:'Senior Developer',value:'Senior Developer'},{label:'Manager',value:'Manager'},{label:'Student',value:'Student'},{label:'Instructor/Teacher',value:'Instructor/Teacher'},{label:'Intern',value:'Intern'},{label:'Other',value:'Other'}];return/*#__PURE__*/_jsx(\"div\",{className:\"edit-profile\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 m-auto\",children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"btn btn-light\",children:\"Go Back\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 text-center\",children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"small\",{className:\"d-block pb-3\",children:\"* = required fields\"}),/*#__PURE__*/_jsxs(\"form\",{noValidate:true,onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(TextFieldGroup,{placeholder:\"Profile URL Handle *\",info:\"A unique handle for your profile URL. It can be your full name, company name, nickname, etc\",error:errors.handle,onChange:this.onChange,value:this.state.handle,name:\"handle\"}),/*#__PURE__*/_jsx(SelectListGroup,{placeholder:\"Career Status\",options:options,info:\"Your current career status\",error:errors.status,onChange:this.onChange,value:this.state.status,name:\"status\"}),/*#__PURE__*/_jsx(TextFieldGroup,{placeholder:\"Company\",info:\"Your personal company or the one you work for\",error:errors.company,onChange:this.onChange,value:this.state.company,name:\"company\"}),/*#__PURE__*/_jsx(TextFieldGroup,{placeholder:\"Website\",info:\"Your own website or a company one\",error:errors.website,onChange:this.onChange,value:this.state.website,name:\"website\"}),/*#__PURE__*/_jsx(TextFieldGroup,{placeholder:\"Location\",info:\"Your place of origin (e.g. Athens, GR)\",error:errors.location,onChange:this.onChange,value:this.state.location,name:\"location\"}),/*#__PURE__*/_jsx(TextFieldGroup,{placeholder:\"Skills *\",info:\"Your personal skills & knowledge (e.g. HTML, CSS, Javascript, Mathematics)\",error:errors.skills,onChange:this.onChange,value:this.state.skills,name:\"skills\"}),/*#__PURE__*/_jsx(TextFieldGroup,{placeholder:\"Github Username\",info:\"Github integration with your repos and Github profile\",error:errors.githubusername,onChange:this.onChange,value:this.state.githubusername,name:\"githubusername\"}),/*#__PURE__*/_jsx(TextAreaFieldGroup,{placeholder:\"Short Bio\",info:\"A short description of yourself\",error:errors.bio,onChange:this.onChange,value:this.state.bio,name:\"bio\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){_this2.setState(function(prevState){return{displaySocialInputs:!prevState.displaySocialInputs};});},className:\"btn btn-default\",children:\"Add Social Network Accounts\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted ml-3\",children:\"Optional\"})]}),socialInputs,/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\",className:\"btn btn-primary btn-lg btn-block\"})]})]})})})});}}]);return CreateProfile;}(Component);var mapStateToProps=function mapStateToProps(state){return{profile:state.profile,errors:state.errors};};export default connect(mapStateToProps,{createProfile:createProfile,getCurrentProfile:getCurrentProfile})(withRouter(CreateProfile));","map":{"version":3,"sources":["Z:/DevArena/client/src/components/edit-profile/EditProfile.js"],"names":["React","Component","connect","Link","withRouter","createProfile","getCurrentProfile","TextFieldGroup","TextAreaFieldGroup","InputGroup","SelectListGroup","isEmpty","CreateProfile","props","onSubmit","e","preventDefault","profileData","handle","state","company","website","location","status","skills","githubusername","bio","twitter","facebook","linkedin","instagram","youtube","history","onChange","setState","target","name","value","displaySocialInputs","errors","nextProps","profile","skillsCSV","join","social","socialInputs","options","label","prevState","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { createProfile, getCurrentProfile } from '../../actions/profileActions';\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\r\nimport InputGroup from '../common/InputGroup';\r\nimport SelectListGroup from '../common/SelectListGroup';\r\nimport isEmpty from '../../validation/is-empty';\r\n\r\nclass CreateProfile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            displaySocialInputs: false,\r\n            handle: '',\r\n            company: '',\r\n            website: '',\r\n            location: '',\r\n            status: '',\r\n            skills: '',\r\n            githubusername: '',\r\n            bio: '',\r\n            twitter: '',\r\n            facebook: '',\r\n            linkedin: '',\r\n            instagram: '',\r\n            youtube: '',\r\n            errors: {}\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getCurrentProfile();\r\n    }\r\n\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        if (nextProps.errors) {\r\n            this.setState({ errors: nextProps.errors });\r\n        }\r\n\r\n        if (nextProps.profile.profile) {\r\n            const profile = nextProps.profile.profile;\r\n\r\n            // Bring skills array back to csv\r\n            const skillsCSV = profile.skills.join(',');\r\n\r\n            // If profile field doesn't exist, make empty string\r\n            profile.company = !isEmpty(profile.company) ? profile.company : '';\r\n            profile.website = !isEmpty(profile.website) ? profile.website : '';\r\n            profile.location = !isEmpty(profile.location) ? profile.location : '';\r\n            profile.githubusername = !isEmpty(profile.githubusername)\r\n                ? profile.githubusername\r\n                : '';\r\n            profile.bio = !isEmpty(profile.bio) ? profile.bio : '';\r\n            profile.social = !isEmpty(profile.social) ? profile.social : {};\r\n            profile.twitter = !isEmpty(profile.social.twitter)\r\n                ? profile.social.twitter\r\n                : '';\r\n            profile.facebook = !isEmpty(profile.social.facebook)\r\n                ? profile.social.facebook\r\n                : '';\r\n            profile.linkedin = !isEmpty(profile.social.linkedin)\r\n                ? profile.social.linkedin\r\n                : '';\r\n            profile.youtube = !isEmpty(profile.social.youtube)\r\n                ? profile.social.youtube\r\n                : '';\r\n            profile.instagram = !isEmpty(profile.social.instagram)\r\n                ? profile.social.instagram\r\n                : '';\r\n\r\n            // Set component fields state\r\n            this.setState({\r\n                handle: profile.handle,\r\n                company: profile.company,\r\n                website: profile.website,\r\n                location: profile.location,\r\n                status: profile.status,\r\n                skills: skillsCSV,\r\n                githubusername: profile.githubusername,\r\n                bio: profile.bio,\r\n                twitter: profile.twitter,\r\n                facebook: profile.facebook,\r\n                linkedin: profile.linkedin,\r\n                instagram: profile.instagram,\r\n                youtube: profile.youtube\r\n            });\r\n        }\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const profileData = {\r\n            handle: this.state.handle,\r\n            company: this.state.company,\r\n            website: this.state.website,\r\n            location: this.state.location,\r\n            status: this.state.status,\r\n            skills: this.state.skills,\r\n            githubusername: this.state.githubusername,\r\n            bio: this.state.bio,\r\n            twitter: this.state.twitter,\r\n            facebook: this.state.facebook,\r\n            linkedin: this.state.linkedin,\r\n            instagram: this.state.instagram,\r\n            youtube: this.state.youtube\r\n        };\r\n\r\n        this.props.createProfile(profileData, this.props.history);\r\n    };\r\n\r\n    onChange = e => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    };\r\n\r\n    render() {\r\n        const { errors, displaySocialInputs } = this.state;\r\n\r\n        let socialInputs;\r\n\r\n        if (displaySocialInputs) {\r\n            socialInputs = (\r\n                <div>\r\n                    <InputGroup\r\n                        placeholder=\"Facebook Profile URL\"\r\n                        name=\"facebook\"\r\n                        icon=\"fab fa-facebook\"\r\n                        value={this.state.facebook}\r\n                        onChange={this.onChange}\r\n                        error={errors.facebook}\r\n                    />\r\n                    <InputGroup\r\n                        placeholder=\"Twitter Profile URL\"\r\n                        name=\"twitter\"\r\n                        icon=\"fab fa-twitter\"\r\n                        value={this.state.twitter}\r\n                        onChange={this.onChange}\r\n                        error={errors.twitter}\r\n                    />\r\n                    <InputGroup\r\n                        placeholder=\"LinkedIn Profile URL\"\r\n                        name=\"linkedin\"\r\n                        icon=\"fab fa-linkedin\"\r\n                        value={this.state.linkedin}\r\n                        onChange={this.onChange}\r\n                        error={errors.linkedin}\r\n                    />\r\n                    <InputGroup\r\n                        placeholder=\"Instagram Profile URL\"\r\n                        name=\"instagram\"\r\n                        icon=\"fab fa-instagram\"\r\n                        value={this.state.instagram}\r\n                        onChange={this.onChange}\r\n                        error={errors.instagram}\r\n                    />\r\n                    <InputGroup\r\n                        placeholder=\"Youtube Profile URL\"\r\n                        name=\"youtube\"\r\n                        icon=\"fab fa-youtube\"\r\n                        value={this.state.youtube}\r\n                        onChange={this.onChange}\r\n                        error={errors.youtube}\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // Select options for status\r\n        const options = [\r\n            { label: 'Select Professional Status *', value: 0 },\r\n            { label: 'Developer', value: 'Developer' },\r\n            { label: 'Junior Developer', value: 'Junior Developer' },\r\n            { label: 'Senior Developer', value: 'Senior Developer' },\r\n            { label: 'Manager', value: 'Manager' },\r\n            { label: 'Student', value: 'Student' },\r\n            { label: 'Instructor/Teacher', value: 'Instructor/Teacher' },\r\n            { label: 'Intern', value: 'Intern' },\r\n            { label: 'Other', value: 'Other' }\r\n        ];\r\n\r\n        return (\r\n            <div className=\"edit-profile\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-8 m-auto\">\r\n                            <Link to=\"/dashboard\" className=\"btn btn-light\">\r\n                                Go Back\r\n                            </Link>\r\n                            <h1 className=\"display-5 text-center\">Edit Profile</h1>\r\n                            <small className=\"d-block pb-3\">* = required fields</small>\r\n                            <form noValidate onSubmit={this.onSubmit}>\r\n                                <TextFieldGroup\r\n                                    placeholder=\"Profile URL Handle *\"\r\n                                    info=\"A unique handle for your profile URL. It can be your full name, company name, nickname, etc\"\r\n                                    error={errors.handle}\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.handle}\r\n                                    name=\"handle\"\r\n                                />\r\n                                <SelectListGroup\r\n                                    placeholder=\"Career Status\"\r\n                                    options={options}\r\n                                    info=\"Your current career status\"\r\n                                    error={errors.status}\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.status}\r\n                                    name=\"status\"\r\n                                />\r\n                                <TextFieldGroup\r\n                                    placeholder=\"Company\"\r\n                                    info=\"Your personal company or the one you work for\"\r\n                                    error={errors.company}\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.company}\r\n                                    name=\"company\"\r\n                                />\r\n                                <TextFieldGroup\r\n                                    placeholder=\"Website\"\r\n                                    info=\"Your own website or a company one\"\r\n                                    error={errors.website}\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.website}\r\n                                    name=\"website\"\r\n                                />\r\n                                <TextFieldGroup\r\n                                    placeholder=\"Location\"\r\n                                    info=\"Your place of origin (e.g. Athens, GR)\"\r\n                                    error={errors.location}\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.location}\r\n                                    name=\"location\"\r\n                                />\r\n                                <TextFieldGroup\r\n                                    placeholder=\"Skills *\"\r\n                                    info=\"Your personal skills & knowledge (e.g. HTML, CSS, Javascript, Mathematics)\"\r\n                                    error={errors.skills}\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.skills}\r\n                                    name=\"skills\"\r\n                                />\r\n                                <TextFieldGroup\r\n                                    placeholder=\"Github Username\"\r\n                                    info=\"Github integration with your repos and Github profile\"\r\n                                    error={errors.githubusername}\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.githubusername}\r\n                                    name=\"githubusername\"\r\n                                />\r\n                                <TextAreaFieldGroup\r\n                                    placeholder=\"Short Bio\"\r\n                                    info=\"A short description of yourself\"\r\n                                    error={errors.bio}\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.bio}\r\n                                    name=\"bio\"\r\n                                />\r\n\r\n                                <div className=\"mb-3\">\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={() => {\r\n                                            this.setState(prevState => ({\r\n                                                displaySocialInputs: !prevState.displaySocialInputs\r\n                                            }));\r\n                                        }}\r\n                                        className=\"btn btn-default\"\r\n                                    >\r\n                                        Add Social Network Accounts\r\n                                    </button>\r\n                                    <span className=\"text-muted ml-3\">Optional</span>\r\n                                </div>\r\n                                {socialInputs}\r\n                                <input\r\n                                    type=\"submit\"\r\n                                    value=\"Submit\"\r\n                                    className=\"btn btn-primary btn-lg btn-block\"\r\n                                />\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nCreateProfile.propTypes = {\r\n    createProfile: PropTypes.func.isRequired,\r\n    getCurrentProfile: PropTypes.func.isRequired,\r\n    profile: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    profile: state.profile,\r\n    errors: state.errors\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { createProfile, getCurrentProfile }\r\n)(withRouter(CreateProfile));\r\n"]},"metadata":{},"sourceType":"module"}