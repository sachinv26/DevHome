{"ast":null,"code":"import _classCallCheck from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{loginUser}from'../../actions/authActions';import TextFieldGroup from'../common/TextFieldGroup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.onChange=function(e){_this.setState({[e.target.name]:e.target.value});};_this.onSubmit=function(e){e.preventDefault();var userData={email:_this.state.email,password:_this.state.password};_this.props.loginUser(userData);};_this.state={email:'',password:'',errors:{}};return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.auth.isAuthenticated){this.props.history.push('/dashboard');}}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.auth.isAuthenticated){this.props.history.push('/dashboard');}if(nextProps.errors){this.setState({errors:nextProps.errors});}}},{key:\"render\",value:function render(){var errors=this.state.errors;return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 m-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 text-center\",children:\"Sign In\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead text-center\",children:\"Sign in to your DevArena account\"}),/*#__PURE__*/_jsxs(\"form\",{noValidate:true,onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(TextFieldGroup,{placeholder:\"Email Address\",type:\"email\",onChange:this.onChange,error:errors.email,value:this.state.email,name:\"email\"}),/*#__PURE__*/_jsx(TextFieldGroup,{placeholder:\"Password\",type:\"password\",onChange:this.onChange,error:errors.password,value:this.state.password,name:\"password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primary btn-lg btn-block\"})]})]})})})});}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{loginUser:loginUser})(Login);","map":{"version":3,"sources":["Z:/DevArena/client/src/components/auth/Login.js"],"names":["React","Component","connect","loginUser","TextFieldGroup","Login","onChange","e","setState","target","name","value","onSubmit","preventDefault","userData","email","state","password","props","errors","auth","isAuthenticated","history","push","nextProps","mapStateToProps"],"mappings":"ohBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,SAAT,KAA0B,2BAA1B,CACA,MAAOC,CAAAA,cAAP,KAA2B,0BAA3B,C,2FAEMC,CAAAA,K,8FACF,gBAAc,uCACV,wBADU,MASdC,QATc,CASH,SAAAC,CAAC,CAAI,CACZ,MAAKC,QAAL,CAAc,CAAE,CAACD,CAAC,CAACE,MAAF,CAASC,IAAV,EAAiBH,CAAC,CAACE,MAAF,CAASE,KAA5B,CAAd,EACH,CAXa,OAadC,QAbc,CAaH,SAAAL,CAAC,CAAI,CACZA,CAAC,CAACM,cAAF,GAEA,GAAMC,CAAAA,QAAQ,CAAG,CACbC,KAAK,CAAE,MAAKC,KAAL,CAAWD,KADL,CAEbE,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QAFR,CAAjB,CAKA,MAAKC,KAAL,CAAWf,SAAX,CAAqBW,QAArB,EACH,CAtBa,CAEV,MAAKE,KAAL,CAAa,CACTD,KAAK,CAAE,EADE,CAETE,QAAQ,CAAE,EAFD,CAGTE,MAAM,CAAE,EAHC,CAAb,CAFU,aAOb,C,mDAiBD,4BAAoB,CAChB,GAAI,KAAKD,KAAL,CAAWE,IAAX,CAAgBC,eAApB,CAAqC,CACjC,KAAKH,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,EACH,CACJ,C,gDAED,0CAAiCC,SAAjC,CAA4C,CACxC,GAAIA,SAAS,CAACJ,IAAV,CAAeC,eAAnB,CAAoC,CAChC,KAAKH,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,EACH,CAED,GAAIC,SAAS,CAACL,MAAd,CAAsB,CAClB,KAAKX,QAAL,CAAc,CAAEW,MAAM,CAAEK,SAAS,CAACL,MAApB,CAAd,EACH,CACJ,C,sBAED,iBAAS,IACGA,CAAAA,MADH,CACc,KAAKH,KADnB,CACGG,MADH,CAGL,mBACI,YAAK,SAAS,CAAC,OAAf,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,WAAI,SAAS,CAAC,uBAAd,qBADJ,cAEI,UAAG,SAAS,CAAC,kBAAb,8CAFJ,cAKI,cAAM,UAAU,KAAhB,CAAiB,QAAQ,CAAE,KAAKP,QAAhC,wBACI,KAAC,cAAD,EACI,WAAW,CAAC,eADhB,CAEI,IAAI,CAAC,OAFT,CAGI,QAAQ,CAAE,KAAKN,QAHnB,CAII,KAAK,CAAEa,MAAM,CAACJ,KAJlB,CAKI,KAAK,CAAE,KAAKC,KAAL,CAAWD,KALtB,CAMI,IAAI,CAAC,OANT,EADJ,cASI,KAAC,cAAD,EACI,WAAW,CAAC,UADhB,CAEI,IAAI,CAAC,UAFT,CAGI,QAAQ,CAAE,KAAKT,QAHnB,CAII,KAAK,CAAEa,MAAM,CAACF,QAJlB,CAKI,KAAK,CAAE,KAAKD,KAAL,CAAWC,QALtB,CAMI,IAAI,CAAC,UANT,EATJ,cAiBI,cAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,kCAA/B,EAjBJ,GALJ,GADJ,EADJ,EADJ,EADJ,CAiCH,C,mBA7EehB,S,EAsFpB,GAAMwB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAT,KAAK,QAAK,CAC9BI,IAAI,CAAEJ,KAAK,CAACI,IADkB,CAE9BD,MAAM,CAAEH,KAAK,CAACG,MAFgB,CAAL,EAA7B,CAKA,cAAejB,CAAAA,OAAO,CAClBuB,eADkB,CAElB,CAAEtB,SAAS,CAATA,SAAF,CAFkB,CAAP,CAGbE,KAHa,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { loginUser } from '../../actions/authActions';\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\n\r\nclass Login extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            errors: {}\r\n        };\r\n    }\r\n\r\n    onChange = e => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    };\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const userData = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        };\r\n\r\n        this.props.loginUser(userData);\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push('/dashboard');\r\n        }\r\n    }\r\n\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        if (nextProps.auth.isAuthenticated) {\r\n            this.props.history.push('/dashboard');\r\n        }\r\n\r\n        if (nextProps.errors) {\r\n            this.setState({ errors: nextProps.errors });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n\r\n        return (\r\n            <div className=\"login\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-8 m-auto\">\r\n                            <h1 className=\"display-5 text-center\">Sign In</h1>\r\n                            <p className=\"lead text-center\">\r\n                                Sign in to your DevArena account\r\n                            </p>\r\n                            <form noValidate onSubmit={this.onSubmit}>\r\n                                <TextFieldGroup\r\n                                    placeholder=\"Email Address\"\r\n                                    type=\"email\"\r\n                                    onChange={this.onChange}\r\n                                    error={errors.email}\r\n                                    value={this.state.email}\r\n                                    name=\"email\"\r\n                                />\r\n                                <TextFieldGroup\r\n                                    placeholder=\"Password\"\r\n                                    type=\"password\"\r\n                                    onChange={this.onChange}\r\n                                    error={errors.password}\r\n                                    value={this.state.password}\r\n                                    name=\"password\"\r\n                                />\r\n                                <input type=\"submit\" className=\"btn btn-primary btn-lg btn-block\" />\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    loginUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { loginUser }\r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}