{"ast":null,"code":"import axios from'axios';import{CLEAR_CURRENT_PROFILE,GET_ERRORS,GET_PROFILE,GET_PROFILES,PROFILE_LOADING,SET_CURRENT_USER}from'./types';// Get current profile\nexport var getCurrentProfile=function getCurrentProfile(){return function(dispatch){dispatch(setProfileLoading());axios.get('/api/profile').then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(){return dispatch({type:GET_PROFILE,payload:{}});});};};// Get current profile\nexport var getProfileByHandle=function getProfileByHandle(handle){return function(dispatch){dispatch(setProfileLoading());axios.get(\"/api/profile/handle/\".concat(handle)).then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(){return dispatch({type:GET_PROFILE,payload:null});});};};// Create Profile and redirect\nexport var createProfile=function createProfile(profileData,history){return function(dispatch){axios.post('/api/profile',profileData).then(function(){return history.push('/dashboard');}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Add experience\nexport var addExperience=function addExperience(expData,history){return function(dispatch){axios.post('/api/profile/experience',expData).then(function(){return history.push('/dashboard');}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Add education\nexport var addEducation=function addEducation(eduData,history){return function(dispatch){axios.post('/api/profile/education',eduData).then(function(){return history.push('/dashboard');}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Delete experience\nexport var deleteExperience=function deleteExperience(id){return function(dispatch){axios.delete(\"/api/profile/experience/\".concat(id)).then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Delete education\nexport var deleteEducation=function deleteEducation(id){return function(dispatch){axios.delete(\"/api/profile/education/\".concat(id)).then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Delete Account & Profile\nexport var deleteAccount=function deleteAccount(){return function(dispatch){if(window.confirm('Are you sure? \\nThis action can NOT be undone!')){axios.delete('/api/profile').then(function(){return dispatch({type:SET_CURRENT_USER,payload:{}});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});}};};// Get all Profiles\nexport var getProfiles=function getProfiles(){return function(dispatch){dispatch(setProfileLoading());axios.get('/api/profile/all').then(function(res){return dispatch({type:GET_PROFILES,payload:res.data});}).catch(function(){return dispatch({type:GET_PROFILES,payload:null});});};};// Profile loading\nexport var setProfileLoading=function setProfileLoading(){return{type:PROFILE_LOADING};};// Clear profile\nexport var clearCurrentProfile=function clearCurrentProfile(){return{type:CLEAR_CURRENT_PROFILE};};","map":{"version":3,"sources":["Z:/DevArena/client/src/actions/profileActions.js"],"names":["axios","CLEAR_CURRENT_PROFILE","GET_ERRORS","GET_PROFILE","GET_PROFILES","PROFILE_LOADING","SET_CURRENT_USER","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","getProfileByHandle","handle","createProfile","profileData","history","post","push","err","response","addExperience","expData","addEducation","eduData","deleteExperience","id","delete","deleteEducation","deleteAccount","window","confirm","getProfiles","clearCurrentProfile"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { CLEAR_CURRENT_PROFILE, GET_ERRORS, GET_PROFILE, GET_PROFILES, PROFILE_LOADING, SET_CURRENT_USER } from './types';\r\n\r\n// Get current profile\r\nexport const getCurrentProfile = () => dispatch => {\r\n    dispatch(setProfileLoading());\r\n    axios\r\n        .get('/api/profile')\r\n        .then(res =>\r\n            dispatch({\r\n                type: GET_PROFILE,\r\n                payload: res.data\r\n            })\r\n        )\r\n        .catch(() =>\r\n            dispatch({\r\n                type: GET_PROFILE,\r\n                payload: {}\r\n            })\r\n        );\r\n};\r\n\r\n// Get current profile\r\nexport const getProfileByHandle = handle => dispatch => {\r\n    dispatch(setProfileLoading());\r\n    axios\r\n        .get(`/api/profile/handle/${handle}`)\r\n        .then(res =>\r\n            dispatch({\r\n                type: GET_PROFILE,\r\n                payload: res.data\r\n            })\r\n        )\r\n        .catch(() =>\r\n            dispatch({\r\n                type: GET_PROFILE,\r\n                payload: null\r\n            })\r\n        );\r\n};\r\n\r\n// Create Profile and redirect\r\nexport const createProfile = (profileData, history) => dispatch => {\r\n    axios\r\n        .post('/api/profile', profileData)\r\n        .then(() => history.push('/dashboard'))\r\n        .catch(err =>\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Add experience\r\nexport const addExperience = (expData, history) => dispatch => {\r\n    axios\r\n        .post('/api/profile/experience', expData)\r\n        .then(() => history.push('/dashboard'))\r\n        .catch(err =>\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Add education\r\nexport const addEducation = (eduData, history) => dispatch => {\r\n    axios\r\n        .post('/api/profile/education', eduData)\r\n        .then(() => history.push('/dashboard'))\r\n        .catch(err =>\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Delete experience\r\nexport const deleteExperience = id => dispatch => {\r\n    axios\r\n        .delete(`/api/profile/experience/${id}`)\r\n        .then(res =>\r\n            dispatch({\r\n                type: GET_PROFILE,\r\n                payload: res.data\r\n            })\r\n        )\r\n        .catch(err =>\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Delete education\r\nexport const deleteEducation = id => dispatch => {\r\n    axios\r\n        .delete(`/api/profile/education/${id}`)\r\n        .then(res =>\r\n            dispatch({\r\n                type: GET_PROFILE,\r\n                payload: res.data\r\n            })\r\n        )\r\n        .catch(err =>\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Delete Account & Profile\r\nexport const deleteAccount = () => dispatch => {\r\n    if (window.confirm('Are you sure? \\nThis action can NOT be undone!')) {\r\n        axios\r\n            .delete('/api/profile')\r\n            .then(() =>\r\n                dispatch({\r\n                    type: SET_CURRENT_USER,\r\n                    payload: {}\r\n                })\r\n            )\r\n            .catch(err =>\r\n                dispatch({\r\n                    type: GET_ERRORS,\r\n                    payload: err.response.data\r\n                })\r\n            );\r\n    }\r\n};\r\n\r\n// Get all Profiles\r\nexport const getProfiles = () => dispatch => {\r\n    dispatch(setProfileLoading());\r\n    axios\r\n        .get('/api/profile/all')\r\n        .then(res =>\r\n            dispatch({\r\n                type: GET_PROFILES,\r\n                payload: res.data\r\n            })\r\n        )\r\n        .catch(() =>\r\n            dispatch({\r\n                type: GET_PROFILES,\r\n                payload: null\r\n            })\r\n        );\r\n};\r\n\r\n// Profile loading\r\nexport const setProfileLoading = () => {\r\n    return {\r\n        type: PROFILE_LOADING\r\n    };\r\n};\r\n\r\n// Clear profile\r\nexport const clearCurrentProfile = () => {\r\n    return {\r\n        type: CLEAR_CURRENT_PROFILE\r\n    };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}