{"ast":null,"code":"import _classCallCheck from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"Z:/DevArena/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import classNames from'classnames';import{Link}from'react-router-dom';import{addLike,deletePost,removeLike}from'../../actions/postActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostItem=/*#__PURE__*/function(_Component){_inherits(PostItem,_Component);var _super=_createSuper(PostItem);function PostItem(){var _this;_classCallCheck(this,PostItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onDeleteClick=function(event,id){event.preventDefault();_this.props.deletePost(id);};_this.onLikeClick=function(event,id){event.preventDefault();_this.props.addLike(id);};_this.onUnlikeClick=function(event,id){event.preventDefault();_this.props.removeLike(id);};return _this;}_createClass(PostItem,[{key:\"findUserLike\",value:function findUserLike(likes){var auth=this.props.auth;if(likes.filter(function(like){return like.user===auth.user.id;}).length>0){return true;}else{return false;}}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,post=_this$props.post,auth=_this$props.auth,showActions=_this$props.showActions;return/*#__PURE__*/_jsx(\"div\",{className:\"card card-body mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-2\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"profile.html\",children:/*#__PURE__*/_jsx(\"img\",{className:\"rounded-circle d-none d-md-block\",src:post.avatar,alt:\"\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:post.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-10\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:post.text}),showActions?/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:function onClick(event){return _this2.onLikeClick(event,post._id);},className:\"btn btn-light mr-1\",children:[/*#__PURE__*/_jsx(\"i\",{className:classNames('fas fa-thumbs-up',{'text-info':this.findUserLike(post.likes)})}),/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-light\",children:post.likes.length})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(event){return _this2.onUnlikeClick(event,post._id);},className:\"btn btn-light mr-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"text-secondary fas fa-thumbs-down\"})}),/*#__PURE__*/_jsx(Link,{to:\"/post/\".concat(post._id),className:\"btn btn-info mr-1\",children:\"Comments\"}),post.user===auth.user.id?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mr-1\",type:\"button\",onClick:function onClick(event){return _this2.onDeleteClick(event,post._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})}):null]}):null]})]})});}}]);return PostItem;}(Component);PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{deletePost:deletePost,addLike:addLike,removeLike:removeLike})(PostItem);","map":{"version":3,"sources":["Z:/DevArena/client/src/components/posts/PostItem.js"],"names":["React","Component","connect","classNames","Link","addLike","deletePost","removeLike","PostItem","onDeleteClick","event","id","preventDefault","props","onLikeClick","onUnlikeClick","likes","auth","filter","like","user","length","post","showActions","avatar","name","text","_id","findUserLike","defaultProps","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\nimport { addLike, deletePost, removeLike } from '../../actions/postActions';\r\n\r\nclass PostItem extends Component {\r\n    onDeleteClick = (event, id) => {\r\n        event.preventDefault();\r\n        this.props.deletePost(id);\r\n    };\r\n\r\n    onLikeClick = (event, id) => {\r\n        event.preventDefault();\r\n        this.props.addLike(id);\r\n    };\r\n\r\n    onUnlikeClick = (event, id) => {\r\n        event.preventDefault();\r\n        this.props.removeLike(id);\r\n    };\r\n\r\n    findUserLike(likes) {\r\n        const { auth } = this.props;\r\n        if (likes.filter(like => like.user === auth.user.id).length > 0) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { post, auth, showActions } = this.props;\r\n\r\n        return (\r\n            <div className=\"card card-body mb-3\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-2\">\r\n                        <a href=\"profile.html\">\r\n                            <img\r\n                                className=\"rounded-circle d-none d-md-block\"\r\n                                src={post.avatar}\r\n                                alt=\"\"\r\n                            />\r\n                        </a>\r\n                        <br />\r\n                        <p className=\"text-center\">{post.name}</p>\r\n                    </div>\r\n                    <div className=\"col-md-10\">\r\n                        <p className=\"lead\">{post.text}</p>\r\n                        {showActions ? (\r\n                            <span>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={event => this.onLikeClick(event, post._id)}\r\n                                    className=\"btn btn-light mr-1\"\r\n                                >\r\n                                    <i\r\n                                        className={classNames('fas fa-thumbs-up', {\r\n                                            'text-info': this.findUserLike(post.likes)\r\n                                        })}\r\n                                    />\r\n                                    <span className=\"badge badge-light\">{post.likes.length}</span>\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={event => this.onUnlikeClick(event, post._id)}\r\n                                    className=\"btn btn-light mr-1\"\r\n                                >\r\n                                    <i className=\"text-secondary fas fa-thumbs-down\" />\r\n                                </button>\r\n                                <Link to={`/post/${post._id}`} className=\"btn btn-info mr-1\">\r\n                                    Comments\r\n\t\t\t\t\t\t\t\t</Link>\r\n                                {post.user === auth.user.id ? (\r\n                                    <button\r\n                                        className=\"btn btn-danger mr-1\"\r\n                                        type=\"button\"\r\n                                        onClick={event => this.onDeleteClick(event, post._id)}\r\n                                    >\r\n                                        <i className=\"fas fa-times\" />\r\n                                    </button>\r\n                                ) : null}\r\n                            </span>\r\n                        ) : null}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nPostItem.defaultProps = {\r\n    showActions: true\r\n};\r\n\r\nPostItem.propTypes = {\r\n    post: PropTypes.object.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    deletePost: PropTypes.func.isRequired,\r\n    addLike: PropTypes.func.isRequired,\r\n    removeLike: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { deletePost, addLike, removeLike }\r\n)(PostItem);\r\n"]},"metadata":{},"sourceType":"module"}